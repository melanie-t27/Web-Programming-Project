<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Music</title>
</head>
<body>
	<h1 th:text="|HomePage di ${session.currentUser.name}|">HomePage</h1>
	<h2>Your playlists:</h2>
	<div th:if="${playlists == null || playlists.size == 0}" >You still don't have any playlists!</div>
	<div th:if="${playlists.size > 0}">Here are your playlists from the most to the least recently created.</div>
	
	<ul th:each="playlist : ${playlists}">
		<li th:text="${playlist.name}" >Playlist</li>
	</ul>
	
	<h2>Create a new playlist:</h2>
	<form action="/createPlaylist" method="POST">
		<input type="text" name="title" placeholder="Name of the playlist" required/><br>
		<p th:if="${songs.size() == 0 || songs == null}">There aren't any song available, please add a song before creating a playlist.</p>
		<p th:if="${songs.size() > 0}">Choose one or more song in order to create your new playlist:</p>
		<br>
		<th:block th:each="song : ${songs}">
     	 	<input type="checkbox" id="selectedSong" name="selectedSong" value="${song.id}" checked required>
     	 	<label for="selectedSong" th:inline="text"></label>
     	 	<br>
   	    </th:block>
		<button type="submit">Submit playlist</button>
	</form>
	
	
	<h2>Add a new song:</h2>
	<form action="/createSong" method="POST">
	    <input type="text" name="title" placeholder="Title" required/><br>
	    <select name="genre" required>
	    	<option selected>Genre</option>
        	<option th:each="genre : ${genres}" th:value="${genre}" th:text="${genre}">Genre</option>
      	</select><br>
      	<input type =file name="audio" placeholder="File Audio" required/><br>
      	<input type="text" name="titleAlbum" placeholder="Album Title" required/><br>
      	<input type="text" name="artist" placeholder="Artist" required/><br>
      	<input type =file name="cover" placeholder="Cover" required/><br>
      	<input type="text" name="year" placeholder="Year of Publication of the Album" required/><br>
		<button type="submit">Submit song</button>
	</form>
	
</body>
</html>